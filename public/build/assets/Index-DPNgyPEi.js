import{j as e,r as x,$ as _,m as A}from"./app-efWKSDAH.js";import{A as B}from"./AuthenticatedLayout-ClPL5Bra.js";import"./ApplicationLogo-DcFCchUW.js";import"./transition-CLJUmDzh.js";function N({children:t,className:s="",...r}){return e.jsx("button",{className:`px-4 py-2 rounded-lg bg-primary text-white hover:bg-primary-dark transition-colors ${s}`,...r,children:t})}function M({className:t="",...s}){return e.jsx("input",{className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary ${t}`,...s})}function T({children:t,className:s="",...r}){return e.jsx("table",{className:`min-w-full divide-y divide-gray-200 ${s}`,...r,children:t})}function d({children:t,className:s="",...r}){return e.jsx("thead",{className:s,...r,children:t})}function L({children:t,className:s="",...r}){return e.jsx("tbody",{className:s,...r,children:t})}function b({children:t,className:s="",...r}){return e.jsx("tr",{className:s,...r,children:t})}function o({children:t,className:s="",...r}){return e.jsx("td",{className:`px-6 py-4 whitespace-nowrap ${s}`,...r,children:t})}function H({children:t,className:s="",...r}){return e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${s}`,...r,children:t})}function h({children:t,className:s="",...r}){return e.jsx("div",{className:`bg-white rounded-lg shadow ${s}`,...r,children:t})}function j({children:t,className:s="",...r}){return e.jsx("div",{className:`border-b px-4 py-2 font-semibold text-lg ${s}`,...r,children:t})}function f({children:t,className:s="",...r}){return e.jsx("h2",{className:`text-xl font-bold mb-2 ${s}`,...r,children:t})}function p({children:t,className:s="",...r}){return e.jsx("div",{className:`p-4 ${s}`,...r,children:t})}function y({children:t,className:s="",...r}){return e.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full ${s}`,...r,children:t})}function E({children:t,type:s="info",className:r="",...a}){const i="p-4 rounded-lg mb-4",l=s==="success"?"bg-green-100 text-green-800":s==="error"?"bg-red-100 text-red-800":s==="warning"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800";return e.jsx("div",{className:`${i} ${l} ${r}`,...a,children:t})}function F({children:t,className:s="",...r}){return e.jsx("div",{className:`mt-2 text-sm ${s}`,...r,children:t})}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,a)=>a?a.toUpperCase():r.toLowerCase()),C=t=>{const s=P(t);return s.charAt(0).toUpperCase()+s.slice(1)},k=(...t)=>t.filter((s,r,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===r).join(" ").trim(),R=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=x.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:u,...m},w)=>x.createElement("svg",{ref:w,...z,width:s,height:s,stroke:t,strokeWidth:a?Number(r)*24/Number(s):r,className:k("lucide",i),...!l&&!R(m)&&{"aria-hidden":"true"},...m},[...u.map(([n,c])=>x.createElement(n,c)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=(t,s)=>{const r=x.forwardRef(({className:a,...i},l)=>x.createElement(D,{ref:l,iconNode:s,className:k(`lucide-${I(C(t))}`,`lucide-${t}`,a),...i}));return r.displayName=C(t),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],q=g("calendar",V);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],$=g("dollar-sign",U);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Q=g("search",Z);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],K=g("ticket",W);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],G=g("user",O);function J({children:t,className:s="",...r}){return e.jsx("select",{className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary ${s}`,...r,children:t})}function X({children:t,className:s="",...r}){return e.jsx("div",{className:`cursor-pointer border rounded px-3 py-2 ${s}`,...r,children:t})}function Y({children:t,className:s="",...r}){return e.jsx("span",{className:s,...r,children:t})}function ee({children:t,className:s="",...r}){return e.jsx("div",{className:`absolute z-10 mt-1 w-full bg-white border rounded shadow ${s}`,...r,children:t})}function v({children:t,className:s="",...r}){return e.jsx("div",{className:`px-4 py-2 hover:bg-primary hover:text-white cursor-pointer ${s}`,...r,children:t})}function ae({auth:t,bookings:s}){const[r,a]=x.useState(""),[i,l]=x.useState("all"),u=(n,c)=>{A.put(route("admin.bookings.update",n),{status:c})},m=s.filter(n=>{const c=n.user.name.toLowerCase().includes(r.toLowerCase())||n.showtime.movie.title.toLowerCase().includes(r.toLowerCase()),S=i==="all"||n.status===i;return c&&S}),w=n=>{switch(n){case"confirmed":return"success";case"pending":return"warning";case"cancelled":return"destructive";default:return"secondary"}};return e.jsxs(B,{user:t.user,children:[e.jsx(_,{title:"Manage Bookings"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(h,{children:[e.jsxs(j,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium",children:"Total Bookings"}),e.jsx(K,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(p,{children:e.jsx("div",{className:"text-2xl font-bold",children:s.length})})]}),e.jsxs(h,{children:[e.jsxs(j,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium",children:"Confirmed Bookings"}),e.jsx(y,{variant:"success",children:"Confirmed"})]}),e.jsx(p,{children:e.jsx("div",{className:"text-2xl font-bold",children:s.filter(n=>n.status==="confirmed").length})})]}),e.jsxs(h,{children:[e.jsxs(j,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium",children:"Pending Bookings"}),e.jsx(y,{variant:"warning",children:"Pending"})]}),e.jsx(p,{children:e.jsx("div",{className:"text-2xl font-bold",children:s.filter(n=>n.status==="pending").length})})]}),e.jsxs(h,{children:[e.jsxs(j,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium",children:"Total Revenue"}),e.jsx($,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(p,{children:e.jsxs("div",{className:"text-2xl font-bold",children:["$",s.reduce((n,c)=>n+c.total_amount,0).toFixed(2)]})})]})]}),e.jsxs(h,{children:[e.jsx(j,{children:e.jsx(f,{children:"Bookings Management"})}),e.jsxs(p,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Q,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(M,{placeholder:"Search bookings...",value:r,onChange:n=>a(n.target.value),className:"pl-8"})]}),e.jsxs(J,{value:i,onValueChange:l,children:[e.jsx(X,{className:"w-[180px]",children:e.jsx(Y,{placeholder:"Filter by status"})}),e.jsxs(ee,{children:[e.jsx(v,{value:"all",children:"All Status"}),e.jsx(v,{value:"confirmed",children:"Confirmed"}),e.jsx(v,{value:"pending",children:"Pending"}),e.jsx(v,{value:"cancelled",children:"Cancelled"})]})]})]}),m.length===0?e.jsx(E,{children:e.jsx(F,{children:"No bookings found matching your search criteria."})}):e.jsxs(T,{children:[e.jsx(H,{children:e.jsxs(b,{children:[e.jsx(d,{children:"Customer"}),e.jsx(d,{children:"Movie"}),e.jsx(d,{children:"Showtime"}),e.jsx(d,{children:"Seats"}),e.jsx(d,{children:"Amount"}),e.jsx(d,{children:"Status"}),e.jsx(d,{children:"Actions"})]})}),e.jsx(L,{children:m.map(n=>e.jsxs(b,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:n.user.name})]})}),e.jsx(o,{className:"font-medium",children:n.showtime.movie.title}),e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[new Date(n.showtime.date).toLocaleDateString(),e.jsx("br",{}),n.showtime.start_time]})]})}),e.jsx(o,{children:n.seats.map(c=>e.jsx(y,{variant:"secondary",className:"mr-1",children:c.seat_number},c.id))}),e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["$",n.total_amount]})]})}),e.jsx(o,{children:e.jsx(y,{variant:w(n.status),children:n.status})}),e.jsx(o,{children:e.jsxs("div",{className:"flex space-x-2",children:[n.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(N,{variant:"outline",size:"sm",onClick:()=>u(n.id,"confirmed"),children:"Confirm"}),e.jsx(N,{variant:"destructive",size:"sm",onClick:()=>u(n.id,"cancelled"),children:"Cancel"})]}),n.status==="confirmed"&&e.jsx(N,{variant:"destructive",size:"sm",onClick:()=>u(n.id,"cancelled"),children:"Cancel"})]})})]},n.id))})]})]})]})]})})})]})}export{ae as default};
